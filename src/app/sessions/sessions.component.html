<div class="container">
<h2>Sessions</h2>
<!-- total questions answered -->
<br>
<h3>Questions answered</h3>
<div class="space-evenly">
    <div>Average per Session: {{  totalAverage | number: '.1-1'}}</div>
    <div>Total: {{ totalQuestions }} </div>
    <div>This Session: {{ totalThisSession }}</div>
    <div>Last Session: {{ totalLastSession }}</div>
</div>
<br>
<br>

<!-- correctly answered -->
<h3>Questions answered correctly</h3>
<div class="space-evenly">
    <div>Average per Session: {{ correctAverage | number: '.1-1'}} </div>
    <div>Total: {{ totalCorrectQuestions }}</div>
    <div>This Session: {{ correctThisSession }}</div>
    <div>Last Session: {{ correctLastSession }}</div>
</div>

<br>
<br>

<h3>Clear Session History</h3>
<div class="space-evenly">
    <div>If you want to clean up the session history, you can delete all your records and make a fresh start.</div>
    <div (click)="toggleConfirmDeleteAll()" [style.cursor]="'pointer'"><strong>{{ open_close }}</strong></div>
</div>
<br>
<br>

<ng-template [ngIf]="toggleDeleteAll">
    Are you sure you want to delete all records? This action can not be undone.
    <br>
    <br>
    <div class="float-right">
        <button class="red-button" (click)="deleteAllDocuments()" [style.margin-right]="'20px'">Delete All</button>
        <button class="blue-button" (click)="toggleConfirmDeleteAll()">Keep All</button>
    </div>
    <br>
    <br>
</ng-template>

<br>
<br>

<!-- all sessions -->
<h3>Session History</h3>

<div class="list-element" *ngFor="let session of allSessions; let i = index">
    <div class="space-evenly">
        <div>Date: {{ session["_id"] }}</div>
        <div>Total: {{ session["totalSession"] }}</div>
        <div>Correct: {{ session["correctSession"] }}</div>
        <div>Average: {{ session["correctSession"] / session["totalSession"] * 100 | number: '2.1-1' }}%</div>
        <div (click)="toggleConfirmDelete(i)" [style.cursor]="'pointer'"><strong>Delete</strong></div>
    </div>

    <ng-template [ngIf]="toggleDeleteArray[i]">
        <div>
            <br>
            <div class="float-right">
                <button class="red-button" (click)="deleteItem(i, session['_id'], session['_rev'])"
                    [style.margin-right]="'20px'">Delete</button>
                <button class="blue-button" (click)="toggleConfirmDelete(i)">Keep</button>
            </div>
            <strong>Are you sure you want to delete this item?</strong>
            <div class="clearfix"></div>
        </div>
    </ng-template>
</div>

<br>
<br>
</div>